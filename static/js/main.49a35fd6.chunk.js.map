{"version":3,"sources":["Context.js","components/Header.js","hooks/useHover.js","components/Image.js","utils/index.js","pages/Photos.js","components/CartItem.js","pages/Cart.js","App.js","index.js"],"names":["AppContext","React","createContext","Header","cartClassName","useContext","cartItems","length","to","className","useHover","useState","hovered","setHovered","ref","useRef","enter","leave","useEffect","current","addEventListener","removeEventListener","Image","img","toggleFavorite","addCartItem","removeFromCart","src","url","isFavorite","onClick","id","some","item","getClass","i","Photos","props","images","allPhotos","map","key","CartItem","iconClass","width","Cart","emptyCart","orderTotal","toLocaleString","style","currency","buttonText","setButtonText","cartElements","setTimeout","console","log","App","exact","path","ReactDOM","render","children","setAllPhotos","setCartItems","fetch","then","response","json","catch","err","Provider","value","newArray","photo","newItem","prevItems","filter","document","getElementById"],"mappings":"qRAEMA,EAAaC,IAAMC,gB,iBCsBVC,MAlBf,WAAmB,IAETC,EADcC,qBAAWL,GAAxBM,UACyBC,OAAS,EAAI,wBAA0B,wBAGvE,OACI,6BACI,gCACI,4BAAI,kBAAC,IAAD,CAAMC,GAAG,KAAT,aACJ,kBAAC,IAAD,CAAMA,GAAG,SACL,uBAAGC,UAAS,UAAKL,EAAL,sBCQjBM,MAtBf,WAAqB,IAAD,EACcC,oBAAS,GADvB,mBACTC,EADS,KACAC,EADA,KAEVC,EAAMC,iBAAO,MAEnB,SAASC,IAASH,GAAW,GAE7B,SAASI,IAASJ,GAAW,GAY7B,OAVAK,qBAAU,WAIN,OAHAJ,EAAIK,QAAQC,iBAAiB,aAAcJ,GAC3CF,EAAIK,QAAQC,iBAAiB,aAAcH,GAEpC,WACHH,EAAIK,QAAQE,oBAAoB,aAAcL,GAC9CF,EAAIK,QAAQE,oBAAoB,aAAcJ,MAEnD,IAEI,CAACL,EAASE,IC4BNQ,MA1Cf,YAAkC,IAAlBb,EAAiB,EAAjBA,UAAWc,EAAM,EAANA,IAAM,EACoClB,qBAAWL,GAArEwB,EADsB,EACtBA,eAAgBC,EADM,EACNA,YAAanB,EADP,EACOA,UAAWoB,EADlB,EACkBA,eADlB,EAENhB,IAFM,mBAEtBE,EAFsB,KAEbE,EAFa,KAqB7B,OACI,yBACIL,UAAS,UAAKA,EAAL,oBACTK,IAAOA,GAEP,yBAAKa,IAAKJ,EAAIK,IAAKnB,UAAU,eArB9Bc,EAAIM,WACI,uBAAGpB,UAAU,yBAAyBqB,QAAS,kBAAMN,EAAeD,EAAIQ,OACzEnB,EACC,uBAAGH,UAAU,yBAAyBqB,QAAS,kBAAMN,EAAeD,EAAIQ,YAD5E,EAMezB,EAAU0B,MAAK,SAAAC,GAAI,OAAIA,EAAKF,KAAOR,EAAIQ,MAElD,uBAAGtB,UAAU,6BAA6BqB,QAAS,kBAAMJ,EAAeH,EAAIQ,OAC7EnB,EACC,uBAAGH,UAAU,0BAA0BqB,QAAS,kBAAML,EAAYF,WADtE,ICtBR,SAASW,EAASC,GACrB,OAAIA,EAAI,IAAM,EACH,MAEFA,EAAI,IAAM,EACR,YADN,ECkBMC,MAhBf,SAAgBC,GAAQ,IAGdC,EAFcjC,qBAAWL,GAAxBuC,UAEkBC,KAAI,SAACjB,EAAKY,GAAN,OACzB,kBAAC,EAAD,CAAOM,IAAKlB,EAAIQ,GAAIR,IAAKA,EAAKd,UAAWyB,EAASC,QAKtD,OACI,0BAAM1B,UAAU,UACX6B,ICcEI,MA1Bf,YAA2B,IAART,EAAO,EAAPA,KACRP,EAAkBrB,qBAAWL,GAA7B0B,eADe,EAEChB,IAFD,mBAEfE,EAFe,KAENE,EAFM,KAIhB6B,EAAa/B,EAAW,qBAAuB,qBAErD,OACI,yBAAKH,UAAU,aACX,uBACIA,UAAWkC,EACXb,QAAS,kBAAMJ,EAAeO,EAAKF,KACnCjB,IAAKA,IAGT,yBAAKa,IAAKM,EAAKL,IAAKgB,MAAM,UAC1B,qCCkBGC,MAlCf,WAAiB,IAAD,EACmBxC,qBAAWL,GAAnCM,EADK,EACLA,UAAWwC,EADN,EACMA,UACZC,GAAiC,KAAnBzC,EAAUC,QAAeyC,eAAe,QAAS,CAACC,MAAO,WAAYC,SAAU,QAFvF,EAGwBvC,mBAAS,eAHjC,mBAGLwC,EAHK,KAGOC,EAHP,KAKNC,EAAe/C,EAAUkC,KAAI,SAAAP,GAAI,OACnC,kBAAC,EAAD,CAAUQ,IAAKR,EAAKF,GAAIE,KAAMA,OAYlC,OACI,0BAAMxB,UAAU,aACZ,yCACC4C,EACD,uBAAG5C,UAAU,cAAb,UAAkCsC,EAAlC,KAGIzC,EAAUC,OAAS,EAAI,yBAAKE,UAAU,gBACtC,4BAAQqB,QAjBpB,WACIsB,EAAc,eACdE,YAAW,WACPC,QAAQC,IAAI,gBACZJ,EAAc,eACdN,MACD,OAWmCK,IACrB,gECNVM,MAjBf,WACE,OACE,yBAAKhD,UAAU,OACb,kBAAC,EAAD,MAEA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOiD,OAAK,EAACC,KAAK,KAChB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,SACV,kBAAC,EAAD,UCPVC,IAASC,OACL,mBTRJ,YAAyC,IAAZC,EAAW,EAAXA,SAAW,EACFnD,mBAAS,IADP,mBAC7B4B,EAD6B,KAClBwB,EADkB,OAEFpD,mBAAS,IAFP,mBAE7BL,EAF6B,KAElB0D,EAFkB,KAmCpC,OA7BA9C,qBAAU,WACN+C,MAHQ,gGAIHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAE,GAAI,OAAIL,EAAaK,MAC1BC,OAAM,SAAAC,GAAG,OAAIf,QAAQC,IAAIc,QAC/B,IAyBC,kBAACtE,EAAWuE,SAAZ,CACIC,MAAO,CAACjC,YAAWf,eAxB3B,SAAwBO,GACpB,IAAM0C,EAAWlC,EAAUC,KAAI,SAAAkC,GAC3B,OAAGA,EAAM3C,KAAOA,EACL,eAAI2C,EAAX,CAAkB7C,YAAa6C,EAAM7C,aAElC6C,KAEXX,EAAaU,IAiB0BhD,YAd3C,SAAqBkD,GACjBX,GAAa,SAAAY,GAAS,4BAAQA,GAAR,CAAmBD,QAaWrE,YAAWoB,eAVnE,SAAwBK,GACpBiC,GAAa,SAAAY,GAAS,OAAIA,EAAUC,QAAO,SAAA5C,GAAI,OAAIA,EAAKF,KAAOA,SASgBe,UANnF,WACIkB,EAAa,OAMRF,KS9BT,KACA,kBAAC,IAAD,KACI,kBAAC,EAAD,QAGJgB,SAASC,eAAe,W","file":"static/js/main.49a35fd6.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\"\n\nconst AppContext = React.createContext()\n\nfunction AppContextProvider({children}) {\n    const [allPhotos, setAllPhotos] = useState([])\n    const [cartItems, setCartItems] = useState([])\n\n    const url = \"https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json\"\n\n    useEffect(() => {\n        fetch(url)\n            .then(response => response.json())\n            .then(json => setAllPhotos(json))\n            .catch(err => console.log(err))\n    }, [])\n\n    function toggleFavorite(id) {\n        const newArray = allPhotos.map(photo => {\n            if(photo.id === id) {\n                return {...photo, isFavorite: !photo.isFavorite}\n            }\n            return photo\n        })\n        setAllPhotos(newArray)\n    }\n\n    function addCartItem(newItem) {\n        setCartItems(prevItems => [...prevItems, newItem])\n    }\n\n    function removeFromCart(id) {\n        setCartItems(prevItems => prevItems.filter(item => item.id !== id))\n    }\n\n    function emptyCart() {\n        setCartItems([])\n    }\n\n    return(\n        <AppContext.Provider \n            value={{allPhotos, toggleFavorite, addCartItem, cartItems, removeFromCart, emptyCart}}>\n            {children}\n        </AppContext.Provider>\n    )\n}\n\nexport {AppContextProvider, AppContext}","import React, {useContext} from \"react\"\nimport {Link} from \"react-router-dom\"\nimport {AppContext} from \"../Context\"\n\n\n\nfunction Header() {\n    const {cartItems} = useContext(AppContext)\n    const cartClassName = cartItems.length > 0 ? \"ri-shopping-cart-fill\" : \"ri-shopping-cart-line\"\n\n\n    return(\n        <div>\n            <header>\n                <h2><Link to=\"/\">Pic Some</Link></h2>\n                <Link to=\"/cart\"> \n                    <i className={`${cartClassName} ri-fw ri-2x`}></i>\n                </Link>\n                \n            </header>\n        </div>\n    )\n}\n\nexport default Header","import {useState, useEffect, useRef} from \"react\"\n\nfunction useHover() {\n    const [hovered, setHovered] = useState(false)\n    const ref = useRef(null)\n\n    function enter() {setHovered(true)}\n\n    function leave() {setHovered(false)}\n\n    useEffect(() => {\n        ref.current.addEventListener('mouseenter', enter)\n        ref.current.addEventListener('mouseleave', leave)\n\n        return () => {\n            ref.current.removeEventListener('mouseenter', enter)\n            ref.current.removeEventListener('mouseleave', leave)\n        }\n    }, [])\n\n    return [hovered, ref]\n    \n}\n\nexport default useHover","import React, {useContext} from \"react\"\nimport {AppContext} from \"../Context\"\nimport PropTypes from 'prop-types'\nimport useHover from '../hooks/useHover'\n\n\nfunction Image({className, img}) {\n    const {toggleFavorite, addCartItem, cartItems, removeFromCart} = useContext(AppContext)\n    const [hovered, ref] = useHover()\n\n    function heartIcon() {\n        if(img.isFavorite) {\n            return <i className=\"ri-heart-fill favorite\" onClick={() => toggleFavorite(img.id)}></i>\n        } else if(hovered) {\n            return <i className=\"ri-heart-line favorite\" onClick={() => toggleFavorite(img.id)}></i>\n        }\n    }\n\n    function cartIcon() {\n        const alreadyInCart = cartItems.some(item => item.id === img.id)\n        if(alreadyInCart) {\n            return <i className=\"ri-shopping-cart-fill cart\" onClick={() => removeFromCart(img.id)}></i>\n        } else if(hovered) {\n            return <i className=\"ri-add-circle-line cart\" onClick={() => addCartItem(img)}></i>\n        }       \n    }\n\n    return (\n        <div \n            className={`${className} image-container`}\n            ref = {ref}\n        >\n            <img src={img.url} className=\"image-grid\"/>\n            {heartIcon()}\n            {cartIcon()}\n        </div>\n    )\n}\n\nImage.propTypes = {\n    className: PropTypes.string,\n    img: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        url: PropTypes.string.isRequired,\n        isFavorite: PropTypes.bool\n    }) \n}\n\nexport default Image","export function getClass(i) {\n    if (i % 3 === 0) {\n        return 'big';\n    }\n    else if (i % 6 === 0) {\n        return 'wide'\n    }\n}","import React, {useContext} from \"react\"\n\nimport Image from \"../components/Image\"\nimport {getClass} from \"../utils\"\nimport {AppContext} from \"../Context\"\n\nfunction Photos(props) {\n    const {allPhotos} = useContext(AppContext)\n\n    const images = allPhotos.map((img, i) => (\n        <Image key={img.id} img={img} className={getClass(i)}/>\n        \n    ))\n\n\n    return(\n        <main className=\"photos\">\n            {images}\n        </main>\n    )\n}\n\nexport default Photos\n","import React, {useContext} from \"react\"\nimport {AppContext} from \"../Context\"\nimport PropTypes from 'prop-types'\nimport useHover from '../hooks/useHover'\n\nfunction CartItem({item}) {\n    const {removeFromCart} = useContext(AppContext)\n    const [hovered, ref] = useHover()\n\n    const iconClass = (hovered) ? \"ri-delete-bin-fill\" : \"ri-delete-bin-line\"\n    \n    return(\n        <div className=\"cart-item\">\n            <i \n                className={iconClass} \n                onClick={() => removeFromCart(item.id)} \n                ref={ref}\n            >   \n            </i>\n            <img src={item.url} width=\"130px\" />\n            <p>5.99</p>\n        </div>\n    )\n}\n\nCartItem.propTypes = {\n    item: PropTypes.shape({\n        url: PropTypes.string.isRequired\n    })\n}\n\nexport default CartItem","import React, {useContext, useState} from \"react\"\nimport {AppContext} from '../Context'\nimport CartItem from '../components/CartItem'\n\nfunction Cart() {\n    const {cartItems, emptyCart} = useContext(AppContext)\n    const orderTotal = (cartItems.length * 5.99).toLocaleString(\"en-us\", {style: \"currency\", currency: \"USD\"})\n    const [buttonText, setButtonText] = useState(\"Place Order\")\n    \n    const cartElements = cartItems.map(item => \n        <CartItem key={item.id} item={item} />\n    )\n\n    function placeOrder() {\n        setButtonText(\"Ordering...\")\n        setTimeout(() => {\n            console.log(\"order placed\")\n            setButtonText(\"Place Order\")\n            emptyCart()\n        }, 3000)     \n    }\n    \n    return(\n        <main className=\"cart-page\">\n            <h1>Check out</h1>\n            {cartElements}\n            <p className=\"total-cost\">Total: {orderTotal} </p>\n            \n            {\n                cartItems.length > 0 ? <div className=\"order-button\">\n                <button onClick={placeOrder}>{buttonText}</button>\n                </div> : <p>You have no items in your cart.</p> \n            }\n            \n        </main>\n    )\n}\n\nexport default Cart","import React from 'react';\nimport {Route, Switch} from \"react-router-dom\"\n\nimport './App.css';\nimport Header from \"./components/Header\"\nimport Photos from \"./pages/Photos\"\nimport Cart from \"./pages/Cart\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      \n      <Switch>\n        <Route exact path=\"/\">\n          <Photos />\n        </Route>\n        <Route path=\"/cart\">\n          <Cart />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from \"react-router-dom\"\n\nimport './index.css'\nimport 'remixicon/fonts/remixicon.css'\n\nimport {AppContextProvider} from \"./Context\"\nimport App from './App';\n\n\nReactDOM.render(\n    <AppContextProvider>\n    <Router>\n        <App />\n    </Router>\n    </AppContextProvider>, \n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}